<div class="data-seeding">
  <div class="seeding-header">
    <h2>Data Seeding Management</h2>
    <p class="subtitle">Manage university data in Firestore</p>
  </div>

  <!-- Seeding Options Grid -->
  <div class="seeding-grid">
    @for (option of seedingOptions; track option.id) {
      <div class="seeding-card" [style.border-color]="option.color">
        <div class="card-header">
          <span class="card-icon" [style.background]="option.color">{{ option.icon }}</span>
          <h3>{{ option.title }}</h3>
        </div>
        <p class="card-description">{{ option.description }}</p>
        <button 
          class="btn btn-seed" 
          [style.background]="option.color"
          (click)="seedData(option)"
          [disabled]="isSeeding()">
          {{ isSeeding() && currentOperation() === option.title ? 'Seeding...' : 'Run Seed' }}
        </button>
      </div>
    }
  </div>

  <!-- Danger Zone -->
  <div class="danger-zone">
    <div class="danger-header">
      <h3>‚ö†Ô∏è Danger Zone</h3>
      <p>These actions can modify or delete data. Use with caution!</p>
    </div>
    
    <div class="danger-actions">
      <div class="danger-card">
        <div class="danger-info">
          <h4>Remove Accommodation Data</h4>
          <p>Remove accommodation groups and tips from all universities</p>
        </div>
        <button 
          class="btn btn-warning" 
          (click)="removeAccommodationData()"
          [disabled]="isSeeding()">
          Remove Data
        </button>
      </div>

      <div class="danger-card">
        <div class="danger-info">
          <h4>Delete All Universities</h4>
          <p>Permanently delete all university data from Firestore</p>
        </div>
        <button 
          class="btn btn-danger" 
          (click)="deleteAllUniversities()"
          [disabled]="isSeeding()">
          Delete All
        </button>
      </div>
    </div>
  </div>

  <!-- Results Panel -->
  @if (showResults()) {
    <div class="results-panel">
      <div class="results-header">
        <h3>Seeding Results</h3>
        <button class="btn-close" (click)="clearResults()" [disabled]="isSeeding()">‚úï</button>
      </div>
      
      @if (isSeeding()) {
        <div class="loading-indicator">
          <div class="spinner"></div>
          <p>{{ currentOperation() }} in progress...</p>
        </div>
      }

      <div class="results-content">
        @for (result of results(); track $index) {
          <div [class]="getResultClass(result)">
            {{ getResultText(result) }}
          </div>
        }
      </div>

      @if (!isSeeding() && results().length > 0) {
        <div class="results-footer">
          <p class="refresh-note">üí° Refresh your browser to see the updated data</p>
        </div>
      }
    </div>
  }
</div>
