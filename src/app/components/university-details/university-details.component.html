<div class="university-details-page">
  <!-- Background overlays -->
  <div class="gradient-overlay"></div>
  <div class="accent-overlay"></div>

  <!-- Loading State -->
  <div class="loading-container" *ngIf="isLoading()">
    <div class="spinner"></div>
    <p>Loading AI-powered university insights...</p>
  </div>

  <!-- Error State -->
  <div class="error-container" *ngIf="errorMessage() && !isLoading()">
    <div class="error-icon">âš ï¸</div>
    <h2>{{ errorMessage() }}</h2>
    <p class="error-hint">Please check the browser console for more details</p>
    <div class="error-actions">
      <button class="retry-btn" (click)="loadUniversityDetails(universityIdValue!)">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="23 4 23 10 17 10"></polyline>
          <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
        </svg>
        Retry
      </button>
    <button class="back-btn" (click)="goBack()">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="19" y1="12" x2="5" y2="12"></line>
        <polyline points="12 19 5 12 12 5"></polyline>
      </svg>
      Back to Home
    </button>
    </div>
  </div>

  <!-- University Details with Sidebar Layout -->
  <div class="details-container" *ngIf="aiDetails() && !isLoading()">
    <!-- Navigation Header -->
    <div class="page-header">
      <button class="back-btn" (click)="goBack()">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="19" y1="12" x2="5" y2="12"></line>
          <polyline points="12 19 5 12 12 5"></polyline>
        </svg>
        Back to Home
      </button>
    </div>

    <!-- HERO SECTION -->
    <section class="hero-section">
      <div class="hero-overlay"></div>
      <div class="hero-wrapper">
        <div class="hero-badge">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
            <path d="M6 12v5c3 3 9 3 12 0v-5"></path>
          </svg>
          <span>University Profile</span>
        </div>
        <h1 class="hero-title">{{ aiDetails()!.name }}</h1>
        <p class="hero-subtext">{{ aiDetails()!.location }}</p>
        <p class="hero-description">{{ aiDetails()!.description }}</p>
        <div class="hero-cta">
          <button class="cta-primary" (click)="selectSection('overview')">
            <span>Explore University</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <polyline points="19 12 12 19 5 12"></polyline>
              </svg>
            </button>
          <button class="cta-secondary" *ngIf="aiDetails()!.website" (click)="openWebsite(aiDetails()!.website)">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="2" y1="12" x2="22" y2="12"></line>
              <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
            </svg>
            <span>Visit Website</span>
          </button>
        </div>
      </div>
    </section>

    <!-- Main Content Area with Sidebar -->
    <div class="content-wrapper">
      <!-- LEFT SIDEBAR NAVIGATION -->
      <aside class="sidebar-navigation">
        <nav class="nav-menu">
          <button 
            *ngFor="let section of navigationSections"
            class="nav-item"
            [class.active]="activeSection() === section.id"
            (click)="selectSection(section.id)"
          >
            <span class="nav-icon">{{ section.icon }}</span>
            <span class="nav-label">{{ section.label }}</span>
          </button>
        </nav>
      </aside>

      <!-- MAIN CONTENT AREA -->
      <main class="main-content">
        <!-- OVERVIEW SECTION -->
        <section class="content-section" *ngIf="activeSection() === 'overview'">
          <div class="section-header" style="background-image: url('https://images.unsplash.com/photo-1517457373614-b7152f800fd1?w=1200&q=80');">
            <div class="section-header-overlay"></div>
            <h2>Overview</h2>
            <p class="section-subtitle">{{ aiDetails()!.location }}</p>
          </div>
          <div class="section-content">
            <div class="overview-grid">
              <div class="overview-card">
                <div class="card-header">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
                    <path d="M6 12v5c3 3 9 3 12 0v-5"></path>
                  </svg>
                  <h3>About {{ aiDetails()!.name }}</h3>
                </div>
                <p class="card-content">{{ aiDetails()!.description }}</p>
                <div class="card-meta">
                  <span class="meta-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                      <line x1="16" y1="2" x2="16" y2="6"></line>
                      <line x1="8" y1="2" x2="8" y2="6"></line>
                      <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    <strong>Established:</strong> {{ aiDetails()!.established }}
                  </span>
                  <span class="meta-item">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
                    <strong>Location:</strong> {{ aiDetails()!.location }}
            </span>
          </div>
        </div>

              <div class="overview-card">
                <div class="card-header">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
                    <path d="M6 12v5c3 3 9 3 12 0v-5"></path>
                  </svg>
                  <h3>Quick Facts</h3>
                </div>
                <div class="quick-facts">
                  <div class="fact">
                    <span class="fact-icon">ğŸ“</span>
                    <span class="fact-label">Tuition (Annual)</span>
                    <span class="fact-value">{{ aiDetails()!.tuition_fees?.annual_tuition || 'N/A' }}</span>
                  </div>
                  <div class="fact">
                    <span class="fact-icon">ğŸ“Š</span>
                    <span class="fact-label">Acceptance Rate</span>
                    <span class="fact-value">{{ aiDetails()!.admission_stats?.acceptance_rate || 'N/A' }}</span>
                  </div>
                  <div class="fact">
                    <span class="fact-icon">ğŸ†</span>
                    <span class="fact-label">Avg GPA</span>
                    <span class="fact-value">{{ aiDetails()!.admission_stats?.average_gpa || 'N/A' }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ACCOMMODATION SECTION -->
        <section class="content-section" *ngIf="activeSection() === 'accommodation'">
          <div class="section-header" style="background-image: url('https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&q=80');">
            <div class="section-header-overlay"></div>
            <h2>Accommodation</h2>
            <p class="section-subtitle">Housing options and transportation</p>
      </div>
          <div class="section-content">

            <!-- Accommodation View: Main List -->
            <div *ngIf="accommodationView() === 'list'">
              <!-- On-Campus vs Off-Campus Selection -->
              <div class="accommodation-type-selector">
                <button 
                  class="accommodation-type-btn"
                  [class.active]="accommodationView() === 'onCampus'"
                  (click)="selectAccommodationView('onCampus')"
                >
                  <span class="type-icon">ğŸ¢</span>
                  <span class="type-label">On-Campus</span>
                  <span class="type-desc">University managed housing</span>
                </button>
                <button 
                  class="accommodation-type-btn"
                  [class.active]="accommodationView() === 'offCampus'"
                  (click)="selectAccommodationView('offCampus')"
                >
                  <span class="type-icon">ğŸ˜ï¸</span>
                  <span class="type-label">Off-Campus</span>
                  <span class="type-desc">Private housing options</span>
      </button>
    </div>

              <!-- Transportation Info -->
              <div class="subsection" *ngIf="aiDetails()!.need_car !== undefined" style="margin-top: 2rem;">
                <h3>Transportation</h3>
                <div class="status-badge" [class.needed]="aiDetails()!.need_car" [class.not-needed]="!aiDetails()!.need_car">
                  <svg *ngIf="!aiDetails()!.need_car" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="20 6 9 17 4 12"></polyline>
                  </svg>
                  <svg *ngIf="aiDetails()!.need_car" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
        </svg>
                  <div>
                    <span class="status-title" *ngIf="!aiDetails()!.need_car">Car Not Required</span>
                    <span class="status-title" *ngIf="aiDetails()!.need_car">Car Recommended</span>
                    <p class="status-desc" *ngIf="!aiDetails()!.need_car">Good public transportation and walkable campus area.</p>
                    <p class="status-desc" *ngIf="aiDetails()!.need_car">Having a car would be beneficial for getting around.</p>
                  </div>
                </div>
              </div>
      </div>

            <!-- On-Campus Housing View -->
            <div *ngIf="accommodationView() === 'onCampus'" class="accommodation-detail-view">
              <button class="back-to-list-btn" (click)="selectAccommodationView('list')">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="19" y1="12" x2="5" y2="12"></line>
                  <polyline points="12 19 5 12 12 5"></polyline>
                </svg>
                Back to Options
              </button>
              
              <div class="accommodation-detail-header">
                <h3>ğŸ¢ On-Campus Housing</h3>
                <p>University-managed dormitories and residence halls</p>
              </div>

              <!-- On-Campus Housing Options -->
              <div class="accommodation-options-grid">
                <div class="accommodation-card">
                  <div class="card-title">Freshman Dormitory</div>
                  <div class="card-details">
                    <div class="detail-row">
                      <span class="detail-label">ğŸ’° Cost per Semester:</span>
                      <span class="detail-value">$5,500</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ“… Cost per Year:</span>
                      <span class="detail-value">$11,000</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ›ï¸ Room Type:</span>
                      <span class="detail-value">Double Occupancy</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ½ï¸ Meal Plan:</span>
                      <span class="detail-value">Included</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ‘¥ Capacity:</span>
                      <span class="detail-value">2 students per room</span>
                    </div>
                  </div>
                  <div class="card-features">
                    <span class="feature">âœ“ WiFi</span>
                    <span class="feature">âœ“ AC/Heating</span>
                    <span class="feature">âœ“ Utilities</span>
                    <span class="feature">âœ“ Security</span>
                  </div>
                </div>

                <div class="accommodation-card">
                  <div class="card-title">Sophomore Dormitory</div>
                  <div class="card-details">
                    <div class="detail-row">
                      <span class="detail-label">ğŸ’° Cost per Semester:</span>
                      <span class="detail-value">$5,800</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ“… Cost per Year:</span>
                      <span class="detail-value">$11,600</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ›ï¸ Room Type:</span>
                      <span class="detail-value">Single or Double</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ½ï¸ Meal Plan:</span>
                      <span class="detail-value">Included</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ‘¥ Capacity:</span>
                      <span class="detail-value">1-2 students per room</span>
                    </div>
                  </div>
                  <div class="card-features">
                    <span class="feature">âœ“ WiFi</span>
                    <span class="feature">âœ“ AC/Heating</span>
                    <span class="feature">âœ“ Utilities</span>
                    <span class="feature">âœ“ Study Areas</span>
                  </div>
                </div>

                <div class="accommodation-card">
                  <div class="card-title">University Apartments</div>
                  <div class="card-details">
                    <div class="detail-row">
                      <span class="detail-label">ğŸ’° Cost per Semester:</span>
                      <span class="detail-value">$6,200</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ“… Cost per Year:</span>
                      <span class="detail-value">$12,400</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ›ï¸ Room Type:</span>
                      <span class="detail-value">1 or 2 Bedroom</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ½ï¸ Meal Plan:</span>
                      <span class="detail-value">Optional</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ‘¥ Capacity:</span>
                      <span class="detail-value">2-4 students</span>
                    </div>
                  </div>
                  <div class="card-features">
                    <span class="feature">âœ“ WiFi</span>
                    <span class="feature">âœ“ Kitchen</span>
                    <span class="feature">âœ“ Utilities</span>
                    <span class="feature">âœ“ Laundry</span>
                  </div>
                </div>
              </div>

              <div class="accommodation-note">
                <span class="note-icon">â„¹ï¸</span>
                <span>On-campus housing includes utilities, internet, and access to university facilities. Apply early for best room options.</span>
              </div>
            </div>

            <!-- Off-Campus Housing View -->
            <div *ngIf="accommodationView() === 'offCampus'" class="accommodation-detail-view">
              <button class="back-to-list-btn" (click)="selectAccommodationView('list')">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="19" y1="12" x2="5" y2="12"></line>
                  <polyline points="12 19 5 12 12 5"></polyline>
                </svg>
                Back to Options
              </button>

              <div class="accommodation-detail-header">
                <h3>ğŸ˜ï¸ Off-Campus Housing</h3>
                <p>Private rental apartments and houses near campus</p>
              </div>

              <!-- Off-Campus Housing Options -->
              <div class="accommodation-options-grid">
                <div class="accommodation-card" [class.expanded]="expandedOffCampusCard() === 'shared'">
                  <button class="card-title-btn" (click)="toggleOffCampusCard('shared')">
                    <div class="card-title">
                      <span>Shared Apartment</span>
                      <svg class="expand-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6 9 12 15 18 9"></polyline>
                      </svg>
                    </div>
                  </button>
                  <div class="card-details" *ngIf="expandedOffCampusCard() === 'shared'">
                    <div class="detail-row">
                      <span class="detail-label">ğŸ’° Cost per Month:</span>
                      <span class="detail-value">$800 - $1,200</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ“… Cost per Year:</span>
                      <span class="detail-value">$9,600 - $14,400</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ›ï¸ Room Type:</span>
                      <span class="detail-value">Shared Bedrooms</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ½ï¸ Utilities:</span>
                      <span class="detail-value">Shared (~$150/month)</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ‘¥ Housemates:</span>
                      <span class="detail-value">2-6 people</span>
                    </div>
                  </div>
                  <div class="card-features" *ngIf="expandedOffCampusCard() === 'shared'">
                    <span class="feature">âœ“ Independent</span>
                    <span class="feature">âœ“ Kitchen</span>
                    <span class="feature">âœ“ Furnished</span>
                    <span class="feature">âœ“ Flexible</span>
                  </div>
                </div>

                <div class="accommodation-card" [class.expanded]="expandedOffCampusCard() === 'private'">
                  <button class="card-title-btn" (click)="toggleOffCampusCard('private')">
                    <div class="card-title">
                      <span>Private Bedroom</span>
                      <svg class="expand-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6 9 12 15 18 9"></polyline>
                      </svg>
                    </div>
                  </button>
                  <div class="card-details" *ngIf="expandedOffCampusCard() === 'private'">
                    <div class="detail-row">
                      <span class="detail-label">ğŸ’° Cost per Month:</span>
                      <span class="detail-value">$1,200 - $1,800</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ“… Cost per Year:</span>
                      <span class="detail-value">$14,400 - $21,600</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ›ï¸ Room Type:</span>
                      <span class="detail-value">Private Bedroom</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ½ï¸ Utilities:</span>
                      <span class="detail-value">Shared (~$150/month)</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ‘¥ Housemates:</span>
                      <span class="detail-value">1-3 people</span>
                    </div>
                  </div>
                  <div class="card-features" *ngIf="expandedOffCampusCard() === 'private'">
                    <span class="feature">âœ“ Privacy</span>
                    <span class="feature">âœ“ Kitchen</span>
                    <span class="feature">âœ“ Lock</span>
                    <span class="feature">âœ“ Freedom</span>
                  </div>
                </div>

                <div class="accommodation-card" [class.expanded]="expandedOffCampusCard() === 'studio'">
                  <button class="card-title-btn" (click)="toggleOffCampusCard('studio')">
                    <div class="card-title">
                      <span>Studio/1-Bed Apartment</span>
                      <svg class="expand-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6 9 12 15 18 9"></polyline>
                      </svg>
                    </div>
                  </button>
                  <div class="card-details" *ngIf="expandedOffCampusCard() === 'studio'">
                    <div class="detail-row">
                      <span class="detail-label">ğŸ’° Cost per Month:</span>
                      <span class="detail-value">$1,500 - $2,200</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ“… Cost per Year:</span>
                      <span class="detail-value">$18,000 - $26,400</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ›ï¸ Room Type:</span>
                      <span class="detail-value">Studio or 1 Bedroom</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ½ï¸ Utilities:</span>
                      <span class="detail-value">Your responsibility</span>
                    </div>
                    <div class="detail-row">
                      <span class="detail-label">ğŸ‘¥ Occupants:</span>
                      <span class="detail-value">1-2 people</span>
                    </div>
                  </div>
                  <div class="card-features" *ngIf="expandedOffCampusCard() === 'studio'">
                    <span class="feature">âœ“ Independent</span>
                    <span class="feature">âœ“ Full Control</span>
                    <span class="feature">âœ“ Furnished</span>
                    <span class="feature">âœ“ Comfortable</span>
            </div>
          </div>
        </div>
        
              <div class="accommodation-note">
                <span class="note-icon">â„¹ï¸</span>
                <span>Off-campus costs shown are average prices. Actual costs vary by location and lease terms. Utilities typically include internet, electricity, and water.</span>
              </div>

              <!-- Popular Student Living Areas -->
              <div class="student-areas-section">
                <h3>ğŸ“ Popular Student Living Areas</h3>
                <div class="areas-grid">
                  <div class="area-card" [class.expanded]="expandedStudentArea() === 'downtown'">
                    <button class="area-header-btn" (click)="toggleStudentArea('downtown')">
                      <div class="area-header">
                        <h4>Downtown District</h4>
                        <svg class="expand-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                      </div>
                    </button>
                    <p class="area-distance">~0.5 miles from campus</p>
                    <ul class="area-apartments" *ngIf="expandedStudentArea() === 'downtown'">
                      <li>The Lofts at Central</li>
                      <li>Urban Student Housing</li>
                      <li>Downtown Commons</li>
                      <li>City View Apartments</li>
                      <li>The Station Lofts</li>
                    </ul>
                    <div class="area-highlights" *ngIf="expandedStudentArea() === 'downtown'">
                      <span class="highlight">Walkable</span>
                      <span class="highlight">Nightlife</span>
                      <span class="highlight">Trendy</span>
                    </div>
                  </div>

                  <div class="area-card" [class.expanded]="expandedStudentArea() === 'universitypark'">
                    <button class="area-header-btn" (click)="toggleStudentArea('universitypark')">
                      <div class="area-header">
                        <h4>University Park Area</h4>
                        <svg class="expand-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                      </div>
                    </button>
                    <p class="area-distance">~0.8 miles from campus</p>
                    <ul class="area-apartments" *ngIf="expandedStudentArea() === 'universitypark'">
                      <li>Campus Park Residences</li>
                      <li>The Ivy Apartments</li>
                      <li>Park Side Living</li>
                      <li>Green Valley Complex</li>
                      <li>Parkside Student Homes</li>
                    </ul>
                    <div class="area-highlights" *ngIf="expandedStudentArea() === 'universitypark'">
                      <span class="highlight">Safe</span>
                      <span class="highlight">Quiet</span>
                      <span class="highlight">Affordable</span>
                    </div>
                  </div>

                  <div class="area-card" [class.expanded]="expandedStudentArea() === 'midtown'">
                    <button class="area-header-btn" (click)="toggleStudentArea('midtown')">
                      <div class="area-header">
                        <h4>Midtown/Arts Quarter</h4>
                        <svg class="expand-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                      </div>
                    </button>
                    <p class="area-distance">~1.2 miles from campus</p>
                    <ul class="area-apartments" *ngIf="expandedStudentArea() === 'midtown'">
                      <li>Arts District Lofts</li>
                      <li>Midtown Studios</li>
                      <li>Creative Living Spaces</li>
                      <li>Gallery Apartments</li>
                      <li>Studio 42 Complex</li>
                    </ul>
                    <div class="area-highlights" *ngIf="expandedStudentArea() === 'midtown'">
                      <span class="highlight">Artistic</span>
                      <span class="highlight">Cultural</span>
                      <span class="highlight">Vibrant</span>
                    </div>
                  </div>

                  <div class="area-card" [class.expanded]="expandedStudentArea() === 'heights'">
                    <button class="area-header-btn" (click)="toggleStudentArea('heights')">
                      <div class="area-header">
                        <h4>University Heights</h4>
                        <svg class="expand-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                      </div>
                    </button>
                    <p class="area-distance">~1.5 miles from campus</p>
                    <ul class="area-apartments" *ngIf="expandedStudentArea() === 'heights'">
                      <li>Heights Student Living</li>
                      <li>Mountain View Apartments</li>
                      <li>Hillside Residences</li>
                      <li>Panorama Towers</li>
                      <li>University Crest</li>
                    </ul>
                    <div class="area-highlights" *ngIf="expandedStudentArea() === 'heights'">
                      <span class="highlight">Views</span>
                      <span class="highlight">Modern</span>
                      <span class="highlight">Amenities</span>
                    </div>
                  </div>

                  <div class="area-card" [class.expanded]="expandedStudentArea() === 'village'">
                    <button class="area-header-btn" (click)="toggleStudentArea('village')">
                      <div class="area-header">
                        <h4>Student Village District</h4>
                        <svg class="expand-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                      </div>
                    </button>
                    <p class="area-distance">~1.8 miles from campus</p>
                    <ul class="area-apartments" *ngIf="expandedStudentArea() === 'village'">
                      <li>The Village at Campus</li>
                      <li>Student Square</li>
                      <li>College Station Apartments</li>
                      <li>The Commons</li>
                      <li>Scholars Landing</li>
                    </ul>
                    <div class="area-highlights" *ngIf="expandedStudentArea() === 'village'">
                      <span class="highlight">Community</span>
                      <span class="highlight">Furnished</span>
                      <span class="highlight">Pet-Friendly</span>
                    </div>
                  </div>

                  <div class="area-card" [class.expanded]="expandedStudentArea() === 'riverside'">
                    <button class="area-header-btn" (click)="toggleStudentArea('riverside')">
                      <div class="area-header">
                        <h4>Riverside Neighborhood</h4>
                        <svg class="expand-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
                      </div>
                    </button>
                    <p class="area-distance">~2.2 miles from campus</p>
                    <ul class="area-apartments" *ngIf="expandedStudentArea() === 'riverside'">
                      <li>Riverside Residences</li>
                      <li>Waterfront Living</li>
                      <li>Riverside Commons</li>
                      <li>Riverside Luxury Lofts</li>
                      <li>Riverstone Apartments</li>
                    </ul>
                    <div class="area-highlights" *ngIf="expandedStudentArea() === 'riverside'">
                      <span class="highlight">Scenic</span>
                      <span class="highlight">Recreation</span>
                      <span class="highlight">Peaceful</span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="student-tips-section">
                <div class="tips-header">
                  <h3>ğŸ’¡ Tips for Finding Off-Campus Housing</h3>
                </div>
                <div class="tips-grid">
                  <div class="tip-card">
                    <div class="tip-icon">ğŸ”</div>
                    <h4>Start Early</h4>
                    <p>Begin your search 3-4 months before move-in date for best selection</p>
                  </div>
                  <div class="tip-card">
                    <div class="tip-icon">ğŸš</div>
                    <h4>Check Transit</h4>
                    <p>Verify bus routes and commute times to campus before deciding</p>
                  </div>
                  <div class="tip-card">
                    <div class="tip-icon">ğŸ¤</div>
                    <h4>Find Roommates</h4>
                    <p>Use student Facebook groups and housing portals to find compatible roommates</p>
                  </div>
                  <div class="tip-card">
                    <div class="tip-icon">ğŸ“‹</div>
                    <h4>Read Lease Terms</h4>
                    <p>Carefully review all lease terms and included amenities</p>
                  </div>
                  <div class="tip-card">
                    <div class="tip-icon">ğŸ </div>
                    <h4>Visit in Person</h4>
                    <p>Always visit the apartment before signing any agreements</p>
            </div>
                  <div class="tip-card">
                    <div class="tip-icon">ğŸ’°</div>
                    <h4>Budget Everything</h4>
                    <p>Include utilities, internet, parking, and other hidden costs</p>
              </div>
            </div>
          </div>
        </div>

          </div>
        </section>

        <!-- AMENITIES SECTION -->
        <section class="content-section" *ngIf="activeSection() === 'amenities'">
          <div class="section-header" style="background-image: url('https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?w=1200&q=80');">
            <div class="section-header-overlay"></div>
            <h2>Neighborhood & Amenities</h2>
            <p class="section-subtitle">Explore what's around the campus</p>
          </div>
          <div class="section-content">
            <div class="amenities-grid">
              <!-- Food & Dining -->
              <div class="amenity-card" *ngIf="aiDetails()!.near_by_food_options && aiDetails()!.near_by_food_options!.length > 0">
                <div class="amenity-header">
                  <h4>ğŸ½ï¸ Food & Dining</h4>
                </div>
                <ul class="amenity-items">
                  <li *ngFor="let food of aiDetails()!.near_by_food_options">{{ food }}</li>
                </ul>
              </div>

              <!-- Indian Amenities -->
              <div class="amenity-card" *ngIf="aiDetails()!.indian_amenities && aiDetails()!.indian_amenities!.length > 0">
                <div class="amenity-header">
                  <h4>ğŸ‡®ğŸ‡³ Indian Restaurants & Grocery</h4>
                </div>
                <ul class="amenity-items">
                  <li *ngFor="let amenity of aiDetails()!.indian_amenities">{{ amenity }}</li>
                </ul>
              </div>

              <!-- Parks & Recreation -->
              <div class="amenity-card" *ngIf="aiDetails()!.near_by_parks_and_recreation && aiDetails()!.near_by_parks_and_recreation!.length > 0">
                <div class="amenity-header">
                  <h4>ğŸŒ³ Parks & Recreation</h4>
                </div>
                <ul class="amenity-items">
                  <li *ngFor="let park of aiDetails()!.near_by_parks_and_recreation">{{ park }}</li>
                </ul>
              </div>

              <!-- Transportation -->
              <div class="amenity-card" *ngIf="aiDetails()!.near_by_transportation && aiDetails()!.near_by_transportation!.length > 0">
                <div class="amenity-header">
                  <h4>ğŸšŒ Public Transportation</h4>
                </div>
                <ul class="amenity-items">
                  <li *ngFor="let transport of aiDetails()!.near_by_transportation">{{ transport }}</li>
                </ul>
              </div>

              <!-- Healthcare Facilities -->
              <div class="amenity-card" *ngIf="aiDetails()!.near_by_healthcare_facilities && aiDetails()!.near_by_healthcare_facilities!.length > 0">
                <div class="amenity-header">
                  <h4>ğŸ¥ Healthcare</h4>
                </div>
                <ul class="amenity-items">
                  <li *ngFor="let healthcare of aiDetails()!.near_by_healthcare_facilities">{{ healthcare }}</li>
                </ul>
              </div>

              <!-- Shopping -->
              <div class="amenity-card" *ngIf="aiDetails()!.near_by_shopping_centers && aiDetails()!.near_by_shopping_centers!.length > 0">
                <div class="amenity-header">
                  <h4>ğŸ›ï¸ Shopping</h4>
                </div>
                <ul class="amenity-items">
                  <li *ngFor="let shopping of aiDetails()!.near_by_shopping_centers">{{ shopping }}</li>
                </ul>
              </div>

              <!-- Cultural Centers -->
              <div class="amenity-card" *ngIf="aiDetails()!.near_by_cultural_centers && aiDetails()!.near_by_cultural_centers!.length > 0">
                <div class="amenity-header">
                  <h4>ğŸ­ Cultural Centers</h4>
                </div>
                <ul class="amenity-items">
                  <li *ngFor="let cultural of aiDetails()!.near_by_cultural_centers">{{ cultural }}</li>
                </ul>
              </div>

              <!-- Sports Facilities -->
              <div class="amenity-card" *ngIf="aiDetails()!.near_by_sports_facilities && aiDetails()!.near_by_sports_facilities!.length > 0">
                <div class="amenity-header">
                  <h4>âš½ Sports Facilities</h4>
                </div>
                <ul class="amenity-items">
                  <li *ngFor="let sports of aiDetails()!.near_by_sports_facilities">{{ sports }}</li>
                </ul>
              </div>

              <!-- Libraries -->
              <div class="amenity-card" *ngIf="aiDetails()!.near_by_libraries && aiDetails()!.near_by_libraries!.length > 0">
                <div class="amenity-header">
                  <h4>ğŸ“š Libraries</h4>
                </div>
                <ul class="amenity-items">
                  <li *ngFor="let library of aiDetails()!.near_by_libraries">{{ library }}</li>
                </ul>
              </div>

              <!-- Nightlife & Social -->
              <div class="amenity-card" *ngIf="aiDetails()!.near_by_pubs_and_bars && aiDetails()!.near_by_pubs_and_bars!.length > 0">
                <div class="amenity-header">
                  <h4>ğŸ‰ Nightlife & Social</h4>
                </div>
                <ul class="amenity-items">
                  <li *ngFor="let pub of aiDetails()!.near_by_pubs_and_bars">{{ pub }}</li>
                </ul>
              </div>

              <!-- Nearby Attractions -->
              <div class="amenity-card" *ngIf="aiDetails()!.near_by_attractions && aiDetails()!.near_by_attractions!.length > 0">
                <div class="amenity-header">
                  <h4>ğŸ—ºï¸ Nearby Attractions</h4>
                </div>
                <ul class="amenity-items">
                  <li *ngFor="let attraction of aiDetails()!.near_by_attractions">{{ attraction }}</li>
                </ul>
              </div>

              <!-- Nearby Cities -->
              <div class="amenity-card" *ngIf="aiDetails()!.near_by_cities_of_interest && aiDetails()!.near_by_cities_of_interest!.length > 0">
                <div class="amenity-header">
                  <h4>ğŸ™ï¸ Nearby Cities</h4>
                </div>
                <ul class="amenity-items">
                  <li *ngFor="let city of aiDetails()!.near_by_cities_of_interest">{{ city }}</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- ACADEMICS SECTION -->
        <section class="content-section" *ngIf="activeSection() === 'academics'">
          <div class="section-header" style="background-image: url('https://images.unsplash.com/photo-1427504494785-cddc0c5ae97b?w=1200&q=80');">
            <div class="section-header-overlay"></div>
            <h2>Academic Programs</h2>
            <p class="section-subtitle">Notable programs offered</p>
        </div>
          <div class="section-content">
            <div class="programs-showcase">
              <div *ngFor="let program of aiDetails()!.notablePrograms" class="program-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
                <span>{{ program }}</span>
              </div>
            </div>
          </div>
        </section>

        <!-- DEMOGRAPHICS SECTION -->
        <section class="content-section" *ngIf="activeSection() === 'demographics'">
          <div class="section-header" style="background-image: url('https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=1200&q=80');">
            <div class="section-header-overlay"></div>
            <h2>Student Demographics</h2>
            <p class="section-subtitle">Campus population breakdown</p>
          </div>
          <div class="section-content">
            <div class="demographics-grid">
              <div class="demo-card">
                <h4>Total Students</h4>
                <p class="demo-value">{{ aiDetails()!.student_population.total_students.toLocaleString() }}</p>
              </div>
              <div class="demo-card">
                <h4>Undergraduate</h4>
                <p class="demo-value">{{ aiDetails()!.student_population.undergraduate_students.toLocaleString() }}</p>
              </div>
              <div class="demo-card">
                <h4>Graduate</h4>
                <p class="demo-value">{{ aiDetails()!.student_population.graduate_students.toLocaleString() }}</p>
              </div>
              <div class="demo-card">
                <h4>Domestic</h4>
                <p class="demo-value">{{ aiDetails()!.student_population.domestic_students.toLocaleString() }}</p>
              </div>
              <div class="demo-card highlighted">
                <h4>International</h4>
                <p class="demo-value">{{ aiDetails()!.student_population.international_students.total_international_students.toLocaleString() }}</p>
                <p class="demo-percentage">{{ ((aiDetails()!.student_population.international_students.total_international_students / aiDetails()!.student_population.total_students) * 100).toFixed(1) }}% of total</p>
              </div>
              <div class="demo-card">
                <h4>Countries</h4>
                <p class="demo-value">{{ aiDetails()!.student_population.international_students.countries_represented }}</p>
              </div>
            </div>

            <!-- Top Countries -->
            <div class="top-countries">
              <h3>Top Countries of Origin</h3>
              <div class="countries-list">
                <div *ngFor="let country of aiDetails()!.student_population.international_students.top_countries; let i = index" class="country-row">
                  <span class="country-rank">{{ i + 1 }}</span>
                  <span class="country-name">{{ country }}</span>
                  <div class="country-bar">
                    <div class="country-bar-fill" [style.width.%]="aiDetails()!.student_population.international_students.countires_percentage_population[country] || 0"></div>
                  </div>
                  <span class="country-percent">{{ aiDetails()!.student_population.international_students.countires_percentage_population[country] || 0 }}%</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- SAFETY & SECURITY SECTION -->
        <section class="content-section" *ngIf="activeSection() === 'safety' && aiDetails()!.safety_info">
          <div class="section-header" style="background-image: url('https://images.unsplash.com/photo-1557804506-669714126472?w=1200&q=80');">
            <div class="section-header-overlay"></div>
            <h2>Safety & Security</h2>
            <p class="section-subtitle">Campus and area safety information</p>
          </div>
          <div class="section-content">
            <!-- Overall Safety Rating -->
            <div class="safety-rating-section">
              <div class="safety-rating-card" [class]="'rating-' + aiDetails()!.safety_info!.overall_safety_rating!.toLowerCase().replace(' ', '-')">
                <div class="rating-header">
                  <span class="rating-icon">ğŸ›¡ï¸</span>
                  <h3>Overall Safety Rating</h3>
                </div>
                <div class="rating-display">
                  <span class="rating-badge">{{ aiDetails()!.safety_info!.overall_safety_rating }}</span>
                </div>
                <p class="rating-description">{{ aiDetails()!.safety_info!.crime_statistics }}</p>
              </div>
            </div>

            <!-- Campus Security -->
            <div class="subsection" *ngIf="aiDetails()!.safety_info!.campus_security">
              <h3>ğŸ« Campus Security Services</h3>
              <div class="security-info">
                <p>{{ aiDetails()!.safety_info!.campus_security }}</p>
              </div>
            </div>

            <!-- Safety Tips for Students -->
            <div class="subsection" *ngIf="aiDetails()!.safety_info!.safety_tips && aiDetails()!.safety_info!.safety_tips!.length > 0">
              <h3>ğŸ’¡ Safety Tips for Students</h3>
              <div class="tips-list">
                <div *ngFor="let tip of aiDetails()!.safety_info!.safety_tips" class="tip-item">
                  <span class="tip-icon">âœ“</span>
                  <span class="tip-text">{{ tip }}</span>
                </div>
              </div>
            </div>

            <!-- Places to Avoid -->
            <div class="subsection warning-section" *ngIf="aiDetails()!.safety_info!.places_to_avoid && aiDetails()!.safety_info!.places_to_avoid!.length > 0">
              <h3>âš ï¸ Areas to Avoid</h3>
              <p class="warning-note">Be cautious in or avoid these areas, especially at night:</p>
              <div class="places-list">
                <div *ngFor="let place of aiDetails()!.safety_info!.places_to_avoid" class="place-item">
                  <span class="place-icon">ğŸ“</span>
                  <span class="place-name">{{ place }}</span>
                </div>
              </div>
            </div>

            <!-- Emergency Contacts -->
            <div class="subsection" *ngIf="aiDetails()!.safety_info!.emergency_contacts && aiDetails()!.safety_info!.emergency_contacts!.length > 0">
              <h3>ğŸ“ Emergency Contacts</h3>
              <div class="emergency-contacts-grid">
                <div *ngFor="let contact of aiDetails()!.safety_info!.emergency_contacts" class="emergency-card">
                  <div class="contact-header">
                    <h4>{{ contact.name }}</h4>
                    <span class="contact-number">{{ contact.number }}</span>
                  </div>
                  <p class="contact-desc" *ngIf="contact.description">{{ contact.description }}</p>
                </div>
              </div>
            </div>

            <!-- Safety Resources -->
            <div class="subsection resources-section">
              <h3>ğŸ”— Additional Safety Resources</h3>
              <div class="resources-grid">
                <div class="resource-card">
                  <div class="resource-icon">ğŸš¨</div>
                  <h4>Emergency Alert System</h4>
                  <p>Sign up for campus emergency notifications via text, email, and phone</p>
                </div>
                <div class="resource-card">
                  <div class="resource-icon">ğŸ‘¥</div>
                  <h4>Campus Safety Escort</h4>
                  <p>Free walking escorts available after dark - call campus security</p>
                </div>
                <div class="resource-card">
                  <div class="resource-icon">ğŸš•</div>
                  <h4>Safe Ride Program</h4>
                  <p>Free safe ride home service for students late at night</p>
                </div>
                <div class="resource-card">
                  <div class="resource-icon">ğŸ—ºï¸</div>
                  <h4>Campus Map</h4>
                  <p>Well-lit pathways and emergency call boxes throughout campus</p>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- FINANCIAL SECTION -->
        <section class="content-section" *ngIf="activeSection() === 'financial'">
      <div class="section-header" style="background-image: url('https://images.unsplash.com/photo-1551632786-5b17f1f6f4eb?w=1200&q=80');">
            <div class="section-header-overlay"></div>
            <h2>Tuition & Financial Aid</h2>
            <p class="section-subtitle">Cost breakdown and funding options</p>
      </div>
      <div class="section-content">
            <!-- Tuition Breakdown -->
            <div class="subsection" *ngIf="aiDetails()!.tuition_fees">
              <h3>Tuition & Fees</h3>
              <div class="tuition-grid">
                <div class="tuition-card" *ngIf="aiDetails()!.tuition_fees?.in_state_tuition">
                  <h4>In-State Tuition</h4>
                  <p class="price">{{ aiDetails()!.tuition_fees?.in_state_tuition }}</p>
                </div>
                <div class="tuition-card" *ngIf="aiDetails()!.tuition_fees?.out_of_state_tuition">
                  <h4>Out-of-State Tuition</h4>
                  <p class="price">{{ aiDetails()!.tuition_fees?.out_of_state_tuition }}</p>
                </div>
                <div class="tuition-card" *ngIf="aiDetails()!.tuition_fees?.room_and_board">
                  <h4>Room & Board</h4>
                  <p class="price">{{ aiDetails()!.tuition_fees?.room_and_board }}</p>
          </div>
                <div class="tuition-card" *ngIf="aiDetails()!.tuition_fees?.books_and_supplies">
                  <h4>Books & Supplies</h4>
                  <p class="price">{{ aiDetails()!.tuition_fees?.books_and_supplies }}</p>
        </div>
      </div>
    </div>

            <!-- Financial Aid -->
            <div class="subsection" *ngIf="aiDetails()!.financial_aid">
              <h3>Financial Aid & Scholarships</h3>
              <div class="aid-grid">
                <div class="aid-card" *ngIf="aiDetails()!.financial_aid?.aid_types">
                  <h4>Aid Available</h4>
                  <ul class="aid-list">
                    <li *ngFor="let aid of aiDetails()!.financial_aid?.aid_types">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
                      {{ aid }}
                    </li>
                  </ul>
      </div>
                <div class="aid-card" *ngIf="aiDetails()!.financial_aid?.international_student_support">
                  <h4>International Support</h4>
                  <ul class="aid-list">
                    <li *ngFor="let support of aiDetails()!.financial_aid?.international_student_support">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="20 6 9 17 4 12"></polyline>
              </svg>
                      {{ support }}
                    </li>
                  </ul>
                </div>
            </div>
            </div>
          </div>
        </section>

        <!-- CONTACT SECTION -->
        <section class="content-section" *ngIf="activeSection() === 'contact'">
          <div class="section-header" style="background-image: url('https://images.unsplash.com/photo-1552664730-d307ca884978?w=1200&q=80');">
            <div class="section-header-overlay"></div>
            <h2>Contact & Links</h2>
            <p class="section-subtitle">Get in touch with the university</p>
        </div>
          <div class="section-content">
            <!-- Address -->
            <div class="subsection">
              <h3>ğŸ“ Campus Address</h3>
              <div class="contact-info-card">
                <div class="address-icon">ğŸ“¬</div>
                <div class="address-content">
                  <p class="street">{{ aiDetails()!.address.street }}</p>
                  <p class="city-state">{{ aiDetails()!.address.city }}, {{ aiDetails()!.address.state }} {{ aiDetails()!.address.zipCode }}</p>
                  <p class="country">{{ aiDetails()!.address.country }}</p>
                </div>
              </div>
            </div>

            <!-- Website & Quick Links -->
            <div class="subsection">
              <h3>ğŸ”— Quick Links</h3>
              <div class="quick-links">
                <button *ngIf="aiDetails()!.website" class="link-btn website-btn" (click)="openWebsite(aiDetails()!.website)">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="2" y1="12" x2="22" y2="12"></line>
                    <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                  </svg>
                  <span>Official Website</span>
                </button>
              </div>
            </div>

            <!-- Social Media -->
            <div class="subsection" *ngIf="aiDetails()!.social_media">
              <h3>ğŸŒ Connect on Social Media</h3>
              <div class="social-links">
                <button *ngIf="aiDetails()!.social_media?.facebook" class="social-btn facebook" (click)="openWebsite(aiDetails()!.social_media?.facebook!)" title="Visit Facebook">
                  <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm3.7 10h-2.6v8.4H9.6V12H8.3v-2.4h1.3V8.1c0-1.1.3-2.7 1.9-2.7h2.9v2.2h-2.1c-.3 0-.5.2-.5.5v1.5h2.7l-.4 2.4z"/>
                  </svg>
                  <span>Facebook</span>
                </button>
                <button *ngIf="aiDetails()!.social_media?.twitter" class="social-btn twitter" (click)="openWebsite(aiDetails()!.social_media?.twitter!)" title="Visit Twitter">
                  <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2s9 5 20 5a9.5 9.5 0 00-9-5.12A9.374 9.374 0 0023 3z"/>
                  </svg>
                  <span>Twitter</span>
                </button>
                <button *ngIf="aiDetails()!.social_media?.instagram" class="social-btn instagram" (click)="openWebsite(aiDetails()!.social_media?.instagram!)" title="Visit Instagram">
                  <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"/>
                    <path d="M16.5 7.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" fill="white"/>
                    <circle cx="12" cy="12" r="4.5" fill="none" stroke="white" stroke-width="2"/>
                  </svg>
                  <span>Instagram</span>
                </button>
                <button *ngIf="aiDetails()!.social_media?.linkedin" class="social-btn linkedin" (click)="openWebsite(aiDetails()!.social_media?.linkedin!)" title="Visit LinkedIn">
                  <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"/>
                    <circle cx="4" cy="4" r="2"/>
                  </svg>
                  <span>LinkedIn</span>
                </button>
                <button *ngIf="aiDetails()!.social_media?.youtube" class="social-btn youtube" (click)="openWebsite(aiDetails()!.social_media?.youtube!)" title="Visit YouTube">
                  <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path d="M22.54 6.42a2.78 2.78 0 00-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 00-1.94 2A29 29 0 001 11.75a29 29 0 00.46 5.33A2.78 2.78 0 003.4 19.54c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 001.94-2 29 29 0 00.46-5.33 29 29 0 00-.46-5.33zM9.75 15.02v-6.04l5.75 3.02-5.75 3.02z"/>
                  </svg>
                  <span>YouTube</span>
                </button>
              </div>
            </div>

            <!-- Key Contacts & Faculty -->
            <div class="subsection" *ngIf="aiDetails()!.professor_contacts && aiDetails()!.professor_contacts!.length > 0">
              <h3>ğŸ‘¥ Key Contacts & Faculty</h3>
              <div class="professors-grid">
                <div *ngFor="let professor of aiDetails()!.professor_contacts" class="professor-card">
                  <div class="professor-badge" [ngClass]="'role-' + professor.role.toLowerCase().replace(/\\s+/g, '-')">
                    {{ professor.role.charAt(0) }}
                  </div>
                  <div class="professor-header">
                    <h4 class="professor-name">{{ professor.name }}</h4>
                    <span class="professor-role">{{ professor.role }}</span>
                  </div>
                  <div *ngIf="professor.department" class="professor-department">
                    <span class="dept-icon">ğŸ¢</span>
                    <span>{{ professor.department }}</span>
                  </div>
                  <div class="professor-divider"></div>
                  <div class="professor-details">
                    <div class="detail-item email-item">
                      <span class="detail-icon">âœ‰ï¸</span>
                      <a [href]="'mailto:' + professor.email" class="detail-link">{{ professor.email }}</a>
                    </div>
                    <div class="detail-item phone-item" *ngIf="professor.phone">
                      <span class="detail-icon">â˜ï¸</span>
                      <a [href]="'tel:' + professor.phone" class="detail-link">{{ professor.phone }}</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- REVIEWS SECTION -->
        <section class="content-section" *ngIf="activeSection() === 'reviews' && aiDetails()!.student_reviews && aiDetails()!.student_reviews!.length > 0">
          <div class="section-header" style="background-image: url('https://images.unsplash.com/photo-1552664730-d307ca884978?w=1200&q=80');">
            <div class="section-header-overlay"></div>
            <h2>Student Reviews</h2>
            <p class="section-subtitle">What students are saying</p>
          </div>
          <div class="section-content">
            <div class="reviews-grid">
              <div *ngFor="let review of aiDetails()!.student_reviews" class="review-card">
                <div class="review-header">
                  <div class="reviewer-info">
                    <h4>{{ review.reviewer_name }}</h4>
                    <p class="review-meta">{{ review.program }} â€¢ {{ review.year }}</p>
                  </div>
                  <div class="review-rating">
                    <span class="stars" *ngFor="let i of [1,2,3,4,5]">â­</span>
                  </div>
                </div>
                <p class="review-text">{{ review.review_text }}</p>
                <div class="review-tags">
                  <span class="tag" *ngFor="let tag of review.highlights">{{ tag }}</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- JOBS ON CAMPUS SECTION -->
        <section class="content-section" *ngIf="activeSection() === 'jobs'">
          <div class="section-header" style="background-image: url('https://images.unsplash.com/photo-1552664730-d307ca884978?w=1200&q=80');">
            <div class="section-header-overlay"></div>
            <h2>Jobs On Campus</h2>
            <p class="section-subtitle">Student employment opportunities</p>
          </div>
          <div class="section-content">
            <div class="jobs-grid">
              <!-- Library Assistant -->
              <div class="job-card">
                <div class="job-header">
                  <div class="job-title">
                    <h3>Library Assistant</h3>
                    <p class="department">Library Services</p>
                  </div>
                  <span class="job-badge">Part-time</span>
                </div>
                <div class="job-details">
                  <div class="job-detail-item">
                    <span class="detail-label">Hours:</span>
                    <span class="detail-value">10-15 hrs/week</span>
                  </div>
                  <div class="job-detail-item">
                    <span class="detail-label">Hourly Rate:</span>
                    <span class="detail-value">$12.50/hr</span>
                  </div>
                </div>
                <p class="job-description">Assist with cataloging, shelving books, and providing patron support at the main library.</p>
                <div class="job-skills">
                  <span class="skill-tag">Organization</span>
                  <span class="skill-tag">Customer Service</span>
                  <span class="skill-tag">Attention to Detail</span>
                </div>
                <button class="apply-btn">Apply Now</button>
              </div>

              <!-- Dining Hall Staff -->
              <div class="job-card">
                <div class="job-header">
                  <div class="job-title">
                    <h3>Dining Hall Staff</h3>
                    <p class="department">Dining Services</p>
                  </div>
                  <span class="job-badge">Part-time</span>
                </div>
                <div class="job-details">
                  <div class="job-detail-item">
                    <span class="detail-label">Hours:</span>
                    <span class="detail-value">8-20 hrs/week</span>
                  </div>
                  <div class="job-detail-item">
                    <span class="detail-label">Hourly Rate:</span>
                    <span class="detail-value">$13.00/hr</span>
                  </div>
                </div>
                <p class="job-description">Work in food preparation, serving, and kitchen areas. Meals provided during shifts.</p>
                <div class="job-skills">
                  <span class="skill-tag">Food Handling</span>
                  <span class="skill-tag">Teamwork</span>
                  <span class="skill-tag">Physical Activity</span>
                </div>
                <button class="apply-btn">Apply Now</button>
              </div>

              <!-- Campus Tour Guide -->
              <div class="job-card">
                <div class="job-header">
                  <div class="job-title">
                    <h3>Campus Tour Guide</h3>
                    <p class="department">Admissions Office</p>
                  </div>
                  <span class="job-badge">Seasonal</span>
                </div>
                <div class="job-details">
                  <div class="job-detail-item">
                    <span class="detail-label">Hours:</span>
                    <span class="detail-value">Flexible</span>
                  </div>
                  <div class="job-detail-item">
                    <span class="detail-label">Hourly Rate:</span>
                    <span class="detail-value">$14.00/hr</span>
                  </div>
                </div>
                <p class="job-description">Lead prospective students and families on campus tours. Highlight campus facilities and student life.</p>
                <div class="job-skills">
                  <span class="skill-tag">Communication</span>
                  <span class="skill-tag">Public Speaking</span>
                  <span class="skill-tag">Campus Knowledge</span>
                </div>
                <button class="apply-btn">Apply Now</button>
              </div>

              <!-- Research Assistant -->
              <div class="job-card">
                <div class="job-header">
                  <div class="job-title">
                    <h3>Research Assistant</h3>
                    <p class="department">Various Departments</p>
                  </div>
                  <span class="job-badge">Part-time</span>
                </div>
                <div class="job-details">
                  <div class="job-detail-item">
                    <span class="detail-label">Hours:</span>
                    <span class="detail-value">10-20 hrs/week</span>
                  </div>
                  <div class="job-detail-item">
                    <span class="detail-label">Hourly Rate:</span>
                    <span class="detail-value">$15.00/hr</span>
                  </div>
                </div>
                <p class="job-description">Support faculty research in laboratory or field settings. Data entry, analysis, and literature review.</p>
                <div class="job-skills">
                  <span class="skill-tag">Research</span>
                  <span class="skill-tag">Data Analysis</span>
                  <span class="skill-tag">Attention to Detail</span>
                </div>
                <button class="apply-btn">Apply Now</button>
              </div>

              <!-- Tutoring Center -->
              <div class="job-card">
                <div class="job-header">
                  <div class="job-title">
                    <h3>Peer Tutor</h3>
                    <p class="department">Tutoring Center</p>
                  </div>
                  <span class="job-badge">Part-time</span>
                </div>
                <div class="job-details">
                  <div class="job-detail-item">
                    <span class="detail-label">Hours:</span>
                    <span class="detail-value">5-15 hrs/week</span>
                  </div>
                  <div class="job-detail-item">
                    <span class="detail-label">Hourly Rate:</span>
                    <span class="detail-value">$14.50/hr</span>
                  </div>
                </div>
                <p class="job-description">Help fellow students with challenging courses. Requires strong academic standing in your subject.</p>
                <div class="job-skills">
                  <span class="skill-tag">Teaching</span>
                  <span class="skill-tag">Patience</span>
                  <span class="skill-tag">Subject Knowledge</span>
                </div>
                <button class="apply-btn">Apply Now</button>
              </div>

              <!-- IT Help Desk -->
              <div class="job-card">
                <div class="job-header">
                  <div class="job-title">
                    <h3>IT Help Desk Technician</h3>
                    <p class="department">Information Technology</p>
                  </div>
                  <span class="job-badge">Part-time</span>
                </div>
                <div class="job-details">
                  <div class="job-detail-item">
                    <span class="detail-label">Hours:</span>
                    <span class="detail-value">10-20 hrs/week</span>
                  </div>
                  <div class="job-detail-item">
                    <span class="detail-label">Hourly Rate:</span>
                    <span class="detail-value">$15.50/hr</span>
                  </div>
                </div>
                <p class="job-description">Provide technical support to students and faculty. Troubleshoot hardware and software issues.</p>
                <div class="job-skills">
                  <span class="skill-tag">Technical Skills</span>
                  <span class="skill-tag">Problem Solving</span>
                  <span class="skill-tag">Customer Support</span>
                </div>
                <button class="apply-btn">Apply Now</button>
          </div>
        </div>
      </div>
        </section>
      </main>
    </div>

  </div>
</div>

<!-- International Student Demographics Modal -->
<app-international-student-demographics
  [isOpen]="isDemographicModalOpen()"
  [universityName]="aiDetails()?.name || ''"
  (close)="closeDemographicModal()">
</app-international-student-demographics>
